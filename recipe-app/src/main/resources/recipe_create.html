<!doctype html>
<html lang="en">
  #head ( "New Recipe" )
  <body>
    #scripts
    #navbar ("create")
    <script>
    /*
     * I am not a JS guy. This is totally naive code written from google searches.
     */
  function postRecipe() {
  var XHR = new XMLHttpRequest();
        
  // Redirect on success
  XHR.addEventListener('load', function(event) {
  	var recipe = JSON.parse(XHR.responseText)
    window.location.href = "/recipe/" + recipe.id;
  });

  // Alert on error
  XHR.addEventListener('error', function(event) {
    alert('Oops! Something goes wrong.');
  });
  
  XHR.open('POST', '/api/recipe');
  XHR.setRequestHeader('Content-Type', 'text/plain');
  XHR.send(document.getElementById('recipeTxt').value);
    }
    </script>
    <div class="container-fluid">
    <form>
 	  <textarea class="form-control" id="recipeTxt" rows=10></textarea>
 	  <button type="button" class="btn btn-primary" onClick="postRecipe()">Save</button>
 	</form>
 	</div>
  </body>
</html>